# Copy this file to `deploy/aliyun/.env` on the server and fill in real values.
# (We store it without the `.env` name in git to avoid leaking secrets.)

# --- Frontend API base (optional) ---
# Recommended (same-origin): leave it empty and use Nginx to reverse-proxy `/api` to backend.
# This avoids CORS when users access the site via IP or multiple domains.
# If you must use a dedicated API domain, set it to `http(s)://<YOUR_DOMAIN_OR_IP>` (DO NOT include `/api`).
VITE_API_BASE_URL=""

# Optional: explicitly use your Aliyun Docker Hub mirror for base images when Docker Hub is unreachable.
# Example:
# PY_BASE_IMAGE="nburv8wz.mirror.aliyuncs.com/library/python:3.11-slim"
# NODE_BASE_IMAGE="nburv8wz.mirror.aliyuncs.com/library/node:20-alpine"
# NGINX_BASE_IMAGE="nburv8wz.mirror.aliyuncs.com/library/nginx:1.25-alpine"
PY_BASE_IMAGE=""
NODE_BASE_IMAGE=""
NGINX_BASE_IMAGE=""

# --- MySQL ---
MYSQL_ROOT_PASSWORD="change-me-root"
MYSQL_DATABASE="emotion_music_ai"
MYSQL_USER="app"
MYSQL_PASSWORD="change-me-app"

# SQLAlchemy URL used by backend
DATABASE_URL="mysql+pymysql://app:change-me-app@db:3306/emotion_music_ai?charset=utf8mb4"

# --- Backend security ---
JWT_SECRET="change-me-very-long-random"
# If you do cross-origin (frontend != backend origin), add BOTH origins here, comma-separated.
# Example: "http://8.135.12.114,http://musiclabel-dcx.xyz,https://musiclabel-dcx.xyz"
ALLOWED_ORIGINS="http://YOUR_DOMAIN_OR_IP,https://YOUR_DOMAIN"

# --- 4090 SongGen service ---
SONGGEN_REMOTE_URL="http://workspace.featurize.cn:18856"
SONGGEN_LLM_ENABLED="true"

# --- SiliconFlow (LLM + image) ---
OPENAI_API_BASE="https://api.siliconflow.cn/v1"
OPENAI_API_KEY="YOUR_KEY"
OPENAI_MODEL="Pro/Qwen/Qwen2.5-7B-Instruct"
IMAGE_MODEL="Qwen/Qwen-Image"

# --- OSS (optional) ---
OSS_ENABLED="false"
OSS_ENDPOINT=""
OSS_BUCKET=""
OSS_ACCESS_KEY_ID=""
OSS_ACCESS_KEY_SECRET=""
OSS_PUBLIC_BASE_URL=""
DELETE_LOCAL_AUDIO_AFTER_OSS_UPLOAD="true"


